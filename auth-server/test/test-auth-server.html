<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
<div id="container">
    <input id="code" type="text" placeholder="code" />
    <button id="getToken">Get Token</button>
    <p id="result"></p>
    <input id="refreshCode" type="text" placeholder="code" />
    <button id="refreshToken">Refresh Token</button>
    <p id="refreshResult"></p>
</div>

<script type="text/javascript">
    const getTokenElement = document.getElementById('getToken');
    getTokenElement.onclick = function() {
        const codeElement = document.getElementById('code');
        const resultElement = document.getElementById('result');
        const codeValue =  codeElement.value;

        const lambdaURL = 'https://vpugcgyyuf.execute-api.us-west-2.amazonaws.com/dev/api/token/' + codeValue;

        fetch(lambdaURL)
            .then(function(response) {
                return response.json();
            })
            .then(function(json) {
                resultElement.innerText = JSON.stringify(json);
            });
    };

    const refreshTokenElement = document.getElementById('refreshToken');
    refreshTokenElement.onclick = function () {
            const refreshCodeElement = document.getElementById('refreshCode');
            const refreshResult = document.getElementById('refreshResult');
            const refreshCodeValue = refreshCodeElement.value;

            const lambdaRefresh = 'https://vpugcgyyuf.execute-api.us-west-2.amazonaws.com/dev/api/refresh_token/' + refreshCodeValue;

            fetch(lambdaRefresh)
                .then(function (response) {
                    return response.json();
                })
                .then(function (json) {
                    refreshResult.innerText = JSON.stringify(json);
                });
        }
</script>
</body>
</html>
